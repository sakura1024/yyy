<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>完美</title>
		<style type="text/css">
			#div1{
				width: 200px;
				height: 200px;
				background: red;
				position: absolute;
			}
		</style>
		<script type="text/javascript">
			window.onload=function(){
				document.onmousemove=function(ev){
					var oEvent=ev||event;
					var oDiv=document.getElementById('div1');
                    oDiv.style.left=getPos(oEvent).x+'px';
                    oDiv.style.top=getPos(oEvent).y+'px';
				}
				//封装函数 （获取实际的div实际的左边距和右边距）
				function getPos(ev){
					var scrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;   //获取左滚动距离		
					var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;		//获取右滚动距离
					return {x:ev.clientX+scrollLeft,y:ev.clientY+scrollTop}            //返回值采用json的方式
				}
			}
		</script>
	</head>
	<body style="height: 9000px;">
		<h4>鼠标跟随（封装函数）</h4>
		<h5>无bug:解决方法：可视区据body上面的距离scrollTop+可视区光标坐标clientY</h5>
		<h6>经验：只要涉及到clientX或者clientY的时候，一般都要加上scrollTop</h6>
		<h6>滚动条的意义：可视区与页面顶部的距离</h6>
		<div id="div1">
			
		</div>
	</body>
</html>
